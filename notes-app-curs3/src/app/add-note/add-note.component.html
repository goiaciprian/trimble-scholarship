<div class="add-note-container">
  <h1 class="mat-h1">{{ titlu }}</h1>

  <mat-card class="card-form">
    <mat-card-content>
      <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
        <div>
          <mat-form-field appearance="fill">
            <mat-label>Titlu</mat-label>
            <input matInput name="noteTitle" formControlName="title" />
            <mat-error
              *ngIf="
                myForm.get('title').invalid &&
                myForm.get('title').errors &&
                (myForm.get('title').dirty || myForm.get('title').touched) &&
                myForm.get('title').hasError('required')
              "
              >This filed is required.</mat-error
            >
          </mat-form-field>
        </div>
        <div>
          <mat-form-field appearance="fill">
            <mat-label>Descriere</mat-label>
            <textarea
              matInput
              name="noteDescription"
              formControlName="description"
            ></textarea>
            <mat-error
              *ngIf="
                myForm.get('description').invalid &&
                myForm.get('description').errors &&
                (myForm.get('description').dirty ||
                  myForm.get('description').touched) &&
                myForm.get('description').hasError('required')
              "
              >This filed is required.</mat-error
            >
            <mat-error
              *ngIf="
                myForm.get('description').invalid &&
                myForm.get('description').errors &&
                (myForm.get('description').dirty ||
                  myForm.get('description').touched) &&
                myForm.get('description').hasError('minlength')
              "
            >
              The minimum length for this field is 10 characters.
            </mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field appearance="fill">
            <mat-label>Categorie</mat-label>
            <mat-select matNativeControl formControlName="categoryId" required>
              <mat-option
                [value]="category.id"
                *ngFor="let category of categories"
              >
                {{ category.name }}
              </mat-option>
            </mat-select>
            <mat-error> This filed is required. </mat-error>
          </mat-form-field>
        </div>
        <div class="button-container">
          <button
            mat-raised-button
            class="button-submit"
            color="primary"
            [disabled]="!myForm.valid"
            type="submit"
          >
            {{ currentNote === null ? "Adaugare" : "Modificare" }}
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
