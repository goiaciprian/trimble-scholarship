<h1>Add a note</h1>

<form [formGroup]="myForm" (ngSubmit)="onSubmit(myForm)">
  <div>
    <mat-form-field>
      <input
        matInput
        name="noteTitle"
        placeholder="Title"
        formControlName="title"
      />
    </mat-form-field>
    <br />
    <small
      class="error-message"
      *ngIf="
        myForm.get('title').invalid &&
        myForm.get('title').errors &&
        (myForm.get('title').dirty || myForm.get('title').touched) &&
        myForm.get('title').hasError('required')
      "
      >This filed is required.</small
    >
  </div>
  <div>
    <mat-form-field>
      <textarea
        matInput
        name="noteDescription"
        placeholder="Description"
        formControlName="description"
      ></textarea>
    </mat-form-field>
    <br />
    <small
      class="error-message"
      *ngIf="
        myForm.get('description').invalid &&
        myForm.get('description').errors &&
        (myForm.get('description').dirty ||
          myForm.get('description').touched) &&
        myForm.get('description').hasError('required')
      "
      >This filed is required.</small
    >
    <small
      class="error-message"
      *ngIf="
        myForm.get('description').invalid &&
        myForm.get('description').errors &&
        (myForm.get('description').dirty ||
          myForm.get('description').touched) &&
        myForm.get('description').hasError('minlength')
      "
    >
      The minimum length for this field is 10 characters.
    </small>
  </div>
  <button mat-button [disabled]="!myForm.valid" type="submit">Add</button>
</form>

<div *ngIf="consoleForm">
  <p>Valid: {{ consoleForm.valid }}</p>
  <p>title: {{ consoleForm.title }}</p>
  <p>description: {{ consoleForm.description }}</p>
</div>
